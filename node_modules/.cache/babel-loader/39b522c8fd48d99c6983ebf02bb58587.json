{"ast":null,"code":"var _jsxFileName = \"/Users/sher/Desktop/newShaurma/shaurmarket/src/Container/Home/ProductList.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { useContext, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { clientContext } from '../../Context/ClientContext';\nimport ProductCard from './ProductCard';\nimport './ProductList.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ProductList() {\n  _s();\n\n  const {\n    getProducts,\n    products\n  } = useContext(clientContext);\n  const history = useHistory();\n  let search = new URLSearchParams(history.location.search);\n  const [searchWord, setSearchWord] = useState(search.get('q') || '');\n\n  function handleSearchInput(params, value) {\n    setSearchWord(value);\n    search.set(params, value);\n    search.set(\"_page\", 1);\n    let url = `${history.location.pathname}?${search.toString()}`;\n    history.push(url);\n  }\n\n  useEffect(() => {\n    getProducts(history);\n  }, [searchWord]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-list\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"product-title\",\n            children: \"\\u0428\\u0430\\u0443\\u0440\\u043C\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"searchbar\",\n            type: \"text\",\n            placeholder: \"\\u041F\\u043E\\u0438\\u0441\\u043A\",\n            onChange: e => handleSearchInput(\"q\", e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-list__main\",\n            children: products ? products.length ? products.map(product => product.category === \"Шаурма\" ? /*#__PURE__*/_jsxDEV(ProductCard, {\n              product: product\n            }, product.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 38,\n              columnNumber: 93\n            }, this) : null) : /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"Empty\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 40,\n              columnNumber: 37\n            }, this) : /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"loading...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"\\u041D\\u0430\\u043F\\u0438\\u0442\\u043A\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"drink-list__main\",\n            children: products ? products.length ? products.map(product => product.category === \"Напитки\" ? /*#__PURE__*/_jsxDEV(ProductCard, {\n              product: product\n            }, product.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 94\n            }, this) : null) : /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"Empty\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 37\n            }, this) : /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"loading...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"\\u0414\\u0440\\u0443\\u0433\\u043E\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"other-list__main\",\n            children: products ? products.length ? products.map(product => product.category === \"Другое\" ? /*#__PURE__*/_jsxDEV(ProductCard, {\n              product: product\n            }, product.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 93\n            }, this) : null) : /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"Empty\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 37\n            }, this) : /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"loading...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 11\n    }, this)\n  }, void 0, false);\n}\n\n_s(ProductList, \"rWeRBLM5D8hifGiIEsSzFvIIU/E=\", false, function () {\n  return [useHistory];\n});\n\n_c = ProductList;\n;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductList\");","map":{"version":3,"sources":["/Users/sher/Desktop/newShaurma/shaurmarket/src/Container/Home/ProductList.jsx"],"names":["React","useEffect","useContext","useState","useHistory","clientContext","ProductCard","ProductList","getProducts","products","history","search","URLSearchParams","location","searchWord","setSearchWord","get","handleSearchInput","params","value","set","url","pathname","toString","push","e","target","length","map","product","category","id"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { useContext, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { clientContext } from '../../Context/ClientContext';\nimport ProductCard from './ProductCard';\nimport './ProductList.css'\n\nexport default function ProductList() {\n    const { getProducts, products } = useContext(clientContext)\n    const history = useHistory()\n\n    let search = new URLSearchParams(history.location.search)\n    const [searchWord, setSearchWord] = useState(search.get('q') || '')\n    function handleSearchInput(params, value) {\n        setSearchWord(value)\n        search.set(params, value)\n        search.set(\"_page\", 1);\n        let url = `${history.location.pathname}?${search.toString()}`\n        history.push(url)\n    }\n\n    useEffect(() => {\n        getProducts(history)\n    }, [searchWord])\n\n    return (\n        <><div className=\"container\">\n            <div className=\"wrapper\">\n                <div className=\"product-list\">\n                    <span className=\"product-title\">Шаурма</span>\n                    <input className=\"searchbar\" type=\"text\" placeholder=\"Поиск\"\n                        onChange={(e) => handleSearchInput(\"q\", e.target.value)}\n                    />\n                    <div className=\"product-list__main\">\n                        {\n                            products ? (\n                                products.length ? (\n                                    products.map(product => product.category === \"Шаурма\" ? <ProductCard key={product.id} product={product} /> : null)\n                                ) : (\n                                    <h1>Empty</h1>\n                                )\n                            ) : (\n                                <h1>loading...</h1>\n                            )\n                        }\n                    </div>\n                    <h2>Напитки</h2>\n                    <div className=\"drink-list__main\">\n                        {\n                            products ? (\n                                products.length ? (\n                                    products.map(product => product.category === \"Напитки\" ? <ProductCard key={product.id} product={product} /> : null)\n                                ) : (\n                                    <h1>Empty</h1>\n                                )\n                            ) : (\n                                <h1>loading...</h1>\n                            )\n                        }\n                    </div>\n                    <h2>Другое</h2>\n                    <div className=\"other-list__main\">\n                        {\n                            products ? (\n                                products.length ? (\n                                    products.map(product => product.category === \"Другое\" ? <ProductCard key={product.id} product={product} /> : null)\n                                ) : (\n                                    <h1>Empty</h1>\n                                )\n                            ) : (\n                                <h1>loading...</h1>\n                            )\n                        }\n                    </div>\n                </div>\n            </div>\n        </div>\n        </>\n    );\n};"]},"metadata":{},"sourceType":"module"}